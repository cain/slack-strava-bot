// https://developers.strava.com/docs/webhooks/

// Create webhook
curl -X POST https://www.strava.com/api/v3/push_subscriptions \
      -F client_id=44322 \
      -F client_secret=9e24a990ac0f237bd8eac32cbdcfe51ad5dbf5c4 \
      -F 'callback_url=http://f3919500dd37.ngrok.io/api/strava' \
      -F 'verify_token=STRAVA'

// List webhook
curl -G https://www.strava.com/api/v3/push_subscriptions \
    -d client_id=44322 \
    -d client_secret=9e24a990ac0f237bd8eac32cbdcfe51ad5dbf5c4

// Delete webhook
curl -X DELETE https://www.strava.com/api/v3/push_subscriptions/195922 \
    -F client_id=44322 \
    -F client_secret=9e24a990ac0f237bd8eac32cbdcfe51ad5dbf5c4

// Stub webhook event
curl -X POST http://8fbc2a851c6d.ngrok.io/api/strava -H ‘Content-Type: application/json’ -d ‘{“aspect_type”: “create”,“event_time”: 1549560669,“object_id”: 0000000000,“object_type”: “activity”,“owner_id”: 9999999,“subscription_id”: 999999}’

// Oauth authorize page
https://www.strava.com/oauth/authorize?client_id=44322&response_type=code&redirect_uri=http://8fbc2a851c6d.ngrok.io&approval_prompt=force&scope=activity:read_all,activity:read

// Test hub challenge
curl -X GET 'http://8fbc2a851c6d.ngrok.io/api/strava?hub.verify_token=test&hub.challenge=15f7d1a91c1f40f8a748fd134752feb3&hub.mode=subscribe'

// Exchange token
curl -X POST https://www.strava.com/oauth/token \
	-F client_id=44322 \
	-F client_secret=SECRET \
	-F code=TOKEN \
	-F grant_type=authorization_code